@{
    Layout = null;
}
@{
    Layout = "_LayoutForEventPage";
    //先套用EventPage的footer公版，後續有時間再做Organizations的佈景公版
}
@section topCSS {
    <link href="~/css/general/reset.css" rel="stylesheet" />
    <link href="~/css/organization/index.css" rel="stylesheet" />
}
@section endJS {
    <script src="
https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js
            "></script>
    <script src="~/js/organizations/index.js"></script>
}



<div class="wrapper">
    <div class="page-content">
        <div class="main-org container">
            <div class="info-org">
                <div class="org-avatar">
                    <img src="@Model.OrganizationImgUrl">
                </div>
                <h1 class="org-title">@Model.Name</h1>
                <div class="attend-btn-wrapper d-grid gap-2 p-4 ">
                    <a href="JoinedOrganizations" class="btn btn-dark " type="button">成為組織粉絲</a>
                </div>
            </div>
            <div class="main-content">
                <div class="side-block">
                    <ul class="info-org-webfb">
                        <li><a href="#"><i class="fa fa-globe"></i>網站</a></li>
                        <li><a href="#"><i class="fa fa-facebook-square"></i>Facebook 粉絲團</a></li>
                        <li><a href="#"><i class="fa fa-solid fa-pencil"></i>聯絡主辦單位</a></li>
                    </ul>
                    <i class=""></i>
                </div>
                <div class="description-block">
                    <p>Live BS Club TAIPEI程式俱樂部</p>

                    <p>是一群專注於實戰演練 / 經驗豐富的教學團隊。</p>

                </div>
            </div>
        </div>
        <!-- 近期公開活動 開始 -->
        <div class="current-events">
            <div class="container">
                <div class="container-head">
                    <h2>近期公開活動<a href="#"><i class="fa fa-rss-square"></i></a></h2>
                    <div class="switch-block">
                        行事曆模式
                        <a href="#" class="Calendar" type="button"><i class="fa fa-calendar"></i></a>
                    </div>
                </div>
                <!-- 行事曆區塊-->
                <div id="calendar" style="display: none;"></div>
                <!-- 列表模式 -->
                <ul class="org-event-list" id="eventList">
                    <!-- foreach  正在進行的活動-->
                    <li>
                        @foreach (var CurrentEvents in Model.OrganizationIndexViewModel)
                        {
                        <h2><a asp-controller="Events" asp-action="EventPage">@CurrentEvents.EventName</a></h2>


                        <div class="date">
                            <i class="fa fa-calendar"></i>
                                <span class="timezoneSuffix">@CurrentEvents.StartTime.ToString("yyyy/MM/dd HH:mm")</span>
                        </div>
                            <a asp-controller="Events" asp-action="EventPage" asp-route-id="@CurrentEvents.Id class="img-wrapper">
                                <img src="@CurrentEvents.OrganizationImgUrl">
                            <div class="img-btn">立即購票</div>

                        </a>
                        <div class="description">
                                @CurrentEvents.EventIntroduction
                        </div>
                        }
                    </li>
                    
                    <!--  -->

                </ul>
            </div>
        </div>
        <!-- 曾舉辦的活動 開始 -->
        <div class="history-events">
            <div class="history-container">
                <h2>曾舉辦的活動</h2>
                <!-- 一個月份一組history-wrapper -->
                @foreach (var GroupedMonth in Model.groupedPastEvents)
                {
                <div class="history-wrapper">
                        <h3>@GroupedMonth.key</h3>
                    <ul class="history-list-past">
                            @foreach (var PastEvents in Model.groupedPastEvents)
                        {
                        <li>
                            <div class="table-wrapp">
                                    <div class="date-wrapp cell-wrapp"><span class="date">@PastEvents.StartTime.Day</span></div>
                                <div class="title-wrapp cell-wrapp">
                                        <a asp-controller="Events" asp-action="EventPage" asp-route-id="@PastEvents.Id">@PastEvents.EventName</a>
                                </div>
                            </div>
                        </li>
                        <!--  -->
                        }
                    </ul>
                </div>
                }
            </div>
        </div>
    </div>
</div>

